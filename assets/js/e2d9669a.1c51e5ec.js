"use strict";(self.webpackChunklinkwell_nodes_documentation=self.webpackChunklinkwell_nodes_documentation||[]).push([[1913],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>p});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),h=a,p=d["".concat(s,".").concat(h)]||d[h]||m[h]||i;return n?r.createElement(p,o(o({ref:t},u),{},{components:n})):r.createElement(p,o({ref:t},u))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},3901:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(7294),a=n(3743);const i={tableOfContentsInline:"tableOfContentsInline_prmo"};function o(e){let{toc:t,minHeadingLevel:n,maxHeadingLevel:o}=e;return r.createElement("div",{className:i.tableOfContentsInline},r.createElement(a.Z,{toc:t,minHeadingLevel:n,maxHeadingLevel:o,className:"table-of-contents",linkClassName:null}))}},3743:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(7462),a=n(7294),i=n(6668);function o(e){const t=e.map((e=>({...e,parentIndex:-1,children:[]}))),n=Array(7).fill(-1);t.forEach(((e,t)=>{const r=n.slice(2,e.level);e.parentIndex=Math.max(...r),n[e.level]=t}));const r=[];return t.forEach((e=>{const{parentIndex:n,...a}=e;n>=0?t[n].children.push(a):r.push(a)})),r}function l(e){let{toc:t,minHeadingLevel:n,maxHeadingLevel:r}=e;return t.flatMap((e=>{const t=l({toc:e.children,minHeadingLevel:n,maxHeadingLevel:r});return function(e){return e.level>=n&&e.level<=r}(e)?[{...e,children:t}]:t}))}function s(e){const t=e.getBoundingClientRect();return t.top===t.bottom?s(e.parentNode):t}function c(e,t){let{anchorTopOffset:n}=t;const r=e.find((e=>s(e).top>=n));if(r){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(s(r))?r:e[e.indexOf(r)-1]??null}return e[e.length-1]??null}function u(){const e=(0,a.useRef)(0),{navbar:{hideOnScroll:t}}=(0,i.L)();return(0,a.useEffect)((()=>{e.current=t?0:document.querySelector(".navbar").clientHeight}),[t]),e}function d(e){const t=(0,a.useRef)(void 0),n=u();(0,a.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:r,linkActiveClassName:a,minHeadingLevel:i,maxHeadingLevel:o}=e;function l(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(r),l=function(e){let{minHeadingLevel:t,maxHeadingLevel:n}=e;const r=[];for(let a=t;a<=n;a+=1)r.push(`h${a}.anchor`);return Array.from(document.querySelectorAll(r.join()))}({minHeadingLevel:i,maxHeadingLevel:o}),s=c(l,{anchorTopOffset:n.current}),u=e.find((e=>s&&s.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,n){n?(t.current&&t.current!==e&&t.current.classList.remove(a),e.classList.add(a),t.current=e):e.classList.remove(a)}(e,e===u)}))}return document.addEventListener("scroll",l),document.addEventListener("resize",l),l(),()=>{document.removeEventListener("scroll",l),document.removeEventListener("resize",l)}}),[e,n])}function m(e){let{toc:t,className:n,linkClassName:r,isChild:i}=e;return t.length?a.createElement("ul",{className:i?void 0:n},t.map((e=>a.createElement("li",{key:e.id},a.createElement("a",{href:`#${e.id}`,className:r??void 0,dangerouslySetInnerHTML:{__html:e.value}}),a.createElement(m,{isChild:!0,toc:e.children,className:n,linkClassName:r}))))):null}const h=a.memo(m);function p(e){let{toc:t,className:n="table-of-contents table-of-contents__left-border",linkClassName:s="table-of-contents__link",linkActiveClassName:c,minHeadingLevel:u,maxHeadingLevel:m,...p}=e;const f=(0,i.L)(),k=u??f.tableOfContents.minHeadingLevel,g=m??f.tableOfContents.maxHeadingLevel,v=function(e){let{toc:t,minHeadingLevel:n,maxHeadingLevel:r}=e;return(0,a.useMemo)((()=>l({toc:o(t),minHeadingLevel:n,maxHeadingLevel:r})),[t,n,r])}({toc:t,minHeadingLevel:k,maxHeadingLevel:g});return d((0,a.useMemo)((()=>{if(s&&c)return{linkClassName:s,linkActiveClassName:c,minHeadingLevel:k,maxHeadingLevel:g}}),[s,c,k,g])),a.createElement(h,(0,r.Z)({toc:v,className:n,linkClassName:s},p))}},9282:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var r=n(7462),a=(n(7294),n(3905)),i=n(3901);const o={title:"Chainlink Direct Requests (Any API)",description:"Chainlink's Any API explained, and a comparison to Chainlink Functions. What is a Chainlink oracle, and how does it work?"},l=void 0,s={unversionedId:"knowledgebase/Direct-Request-Guide",id:"knowledgebase/Direct-Request-Guide",title:"Chainlink Direct Requests (Any API)",description:"Chainlink's Any API explained, and a comparison to Chainlink Functions. What is a Chainlink oracle, and how does it work?",source:"@site/docs/knowledgebase/Direct-Request-Guide.md",sourceDirName:"knowledgebase",slug:"/knowledgebase/Direct-Request-Guide",permalink:"/knowledgebase/Direct-Request-Guide",draft:!1,tags:[],version:"current",frontMatter:{title:"Chainlink Direct Requests (Any API)",description:"Chainlink's Any API explained, and a comparison to Chainlink Functions. What is a Chainlink oracle, and how does it work?"},sidebar:"docsSidebar",previous:{title:"Chainlink Development Help",permalink:"/services/Development-Services"},next:{title:"Frequently Asked Questions",permalink:"/knowledgebase/FAQ"}},c={},u=[{value:"Overview",id:"overview",level:2},{value:"Direct Requests architecture",id:"direct-requests-architecture",level:2},{value:"Key terms",id:"key-terms",level:3},{value:"Process diagram",id:"process-diagram",level:3},{value:"Requesting data from LinkWell Nodes",id:"requesting-data-from-linkwell-nodes",level:2},{value:"Need more help?",id:"need-more-help",level:2}],d={toc:u},m="wrapper";function h(e){let{components:t,...o}=e;return(0,a.kt)(m,(0,r.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{class:"lw-subtitle"},"An in-depth guide to ",(0,a.kt)("lw-emphasis",null,"Chainlink's Direct Request model"),", including key terminology, and how to get started requesting data from us."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Chainlink Direct Requests (Any API)",src:n(7781).Z,title:"Chainlink Direct Requests (Any API)",width:"1400",height:"802"})),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"On this page"),":"),(0,a.kt)(i.Z,{toc:u.filter((e=>e.level>=1)),minHeadingLevel:2,maxHeadingLevel:3,mdxType:"TOCInline"}),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"Chainlink Direct Requests (also called ",(0,a.kt)("a",{parentName:"p",href:"https://docs.chain.link/architecture-overview/architecture-request-model?parent=gettingStarted"},"Basic Requests"),", or ",(0,a.kt)("a",{parentName:"p",href:"https://docs.chain.link/any-api/introduction"},"Any API"),") are a type of oracle request that allows your blockchain smart contract to request data directly from a given Chainlink oracle team. "),(0,a.kt)("p",null,"As compared to ",(0,a.kt)("a",{parentName:"p",href:"https://docs.chain.link/chainlink-functions"},"Chainlink Functions"),", Direct Requests are convenient for the end-user in the following 3 ways:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"They support the greatest range of ",(0,a.kt)("strong",{parentName:"li"},"data types"),", ",(0,a.kt)("strong",{parentName:"li"},"data sizes"),", and ",(0,a.kt)("strong",{parentName:"li"},"blockchain networks"),"."),(0,a.kt)("li",{parentName:"ol"},"They are often the ",(0,a.kt)("strong",{parentName:"li"},"cheapest option")," for the end-user (allowing for negotiation with the specific node operator based on volume and request size). "),(0,a.kt)("li",{parentName:"ol"},"They require the ",(0,a.kt)("strong",{parentName:"li"},"least amount of technical effort")," to implement. The oracle team simply provides you with a ",(0,a.kt)("inlineCode",{parentName:"li"},"request()")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"fulfill()")," function to place into your smart contract, leaving you free to focus on the development of the rest of your smart contract application.")),(0,a.kt)("p",null,"As Direct Requests place much of the burden of implementation on the oracle team that you've chosen, it's important to choose an oracle team that you trust."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"LinkWell Nodes")," is a full-service Chainlink oracle solution that provides secure, reliable, direct-to-consumer data feeds in exchange for a per-request fee. We offer free development services for any efforts required to get your data feed integration up and running."),(0,a.kt)("br",null),"You can find our ",(0,a.kt)("b",null,"direct request job IDs and oracle addresses")," within our ",(0,a.kt)("a",{href:"/services/direct-request-jobs/Jobs-and-Pricing"},"Chainlink data feed documentation"),", as well as our ",(0,a.kt)("a",{href:"/services/direct-request-jobs/Service-Level-Agreement"},"Service-Level Guarantee (SLA)"),"."),(0,a.kt)("h2",{id:"direct-requests-architecture"},"Direct Requests architecture"),(0,a.kt)("p",null,"Before diving deeper into the direct request architecture, it's important to understand the ",(0,a.kt)("a",{parentName:"p",href:"https://docs.chain.link/architecture-overview/architecture-request-model?parent=gettingStarted"},"direct request (basic request)")," model for Chainlink oracle requests. "),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"High-level request workflow"),":"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Your consumer contract (ie, ",(0,a.kt)("inlineCode",{parentName:"li"},"ChainlinkClient"),") makes a request to our oracle contract, via the ",(0,a.kt)("inlineCode",{parentName:"li"},"request()")," function."),(0,a.kt)("li",{parentName:"ol"},"Our Chainlink nodes receive the request, make an HTTP request to the appropriate API endpoint, and write the result back to your consumer contract, via execution of your ",(0,a.kt)("inlineCode",{parentName:"li"},"fulfill()")," function."),(0,a.kt)("li",{parentName:"ol"},"Your Web3 application reads the data from your consumer contract.")),(0,a.kt)("p",{align:"center"},(0,a.kt)("img",{src:"/img/CL_DR_Model_Single_Chainlink_Oracle.webp",alt:"Chainlink Basic Request Model",title:"Chainlink Basic Request Model"}),(0,a.kt)("center",null,(0,a.kt)("small",null,"Chainlink Direct Request workflow"))),(0,a.kt)("h3",{id:"key-terms"},"Key terms"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Consumer contract"),": A smart contract deployed by you (the data requester / consumer) that orchestrates the sending / receiving of off-chain data to a Chainlink oracle. It contains logic to describe the data request, send the request, and receive the resulting data. Full examples of consumer contracts can be found in our ",(0,a.kt)("a",{parentName:"li",href:"/services/direct-request-jobs/Jobs-and-Pricing"},"Direct Request Job Documentation"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Request function"),": The function (method) within your consumer contract that initiates the request to the Chainlink oracle. The required data request parameters (ie, URL, headers, etc.) are usually defined here. Once this function is executed, the Chainlink oracle picks up the emitted event, and begins its work retrieving the requested data."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Fulfill function"),": The function (method) within your consumer contract that receives the data requested from the Chainlink oracle. This function is triggered by the oracle itself, via the oracle contract - usually within 3-5 blocks of the ",(0,a.kt)("inlineCode",{parentName:"li"},"request()")," function being triggered, depending on the blockchain. "),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Oracle contract")," (also known as an ",(0,a.kt)("strong",{parentName:"li"},"operator contract"),"): A smart contract deployed by the Chainlink node operator that orchestrates the sending / receiving of off-chain data between the consumer contract and the oracle node. All communication between the consumer contract and the oracle node passes through this contract."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Oracle")," (also known as a ",(0,a.kt)("strong",{parentName:"li"},"Chainlink node"),"): An off-chain server that receives on-chain requests from the consumer contract (via the oracle contract), retrieves the requested data, and then delivers the result on-chain to the consumer contract, by execution of a blockchain transaction within the oracle contract.")),(0,a.kt)("h3",{id:"process-diagram"},"Process diagram"),(0,a.kt)("p",null,"The following diagram demonstrates the direct request workflow."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Key points"),":"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"The diagram begins with a call to your consumer contract's request function, via an EVM-compatible IDE such as ",(0,a.kt)("a",{parentName:"li",href:"https://remix-project.org/#:~:text=JUMP%20INTO%20WEB3,teaching%20and%20experimenting%20with%20Ethereum."},"Remix"),", combined with a Web3 wallet provider such as ",(0,a.kt)("a",{parentName:"li",href:"https://metamask.io"},"MetaMask"),". "),(0,a.kt)("li",{parentName:"ol"},"The left-hand workflow (",(0,a.kt)("strong",{parentName:"li"},"testnets"),") is virtually the same as the right-hand workflow (",(0,a.kt)("strong",{parentName:"li"},"mainnets"),") with the exception of needing to fund your consumer contract with LINK tokens before making a request.  ")),(0,a.kt)("p",{align:"center"},(0,a.kt)("img",{src:"/img/CL_DR_Model.webp",alt:"Chainlink Direct Request workflow (in-depth diagram)",title:"Chainlink Direct Request workflow (in-depth diagram)"}),(0,a.kt)("center",null,(0,a.kt)("small",null,"Chainlink Direct Request workflow (in-depth diagram)"))),(0,a.kt)("h2",{id:"requesting-data-from-linkwell-nodes"},"Requesting data from LinkWell Nodes"),(0,a.kt)("p",null,"The following section illustrates how to trigger an oracle request from within your smart contract, using the LinkWell Nodes oracle infrastructure. "),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Prepare your request"),":"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("em",{parentName:"li"},"(mainnet customers only)")," Fill out our ",(0,a.kt)("a",{parentName:"li",href:"https://linkwellnodes.io/Getting-Started.html"},"Oracle request survey")," form, so that we can fulfill our compliance obligations and better understand your data needs."),(0,a.kt)("li",{parentName:"ol"},"Design your consumer contract, using our ",(0,a.kt)("a",{parentName:"li",href:"/services/direct-request-jobs/Jobs-and-Pricing"},"Data Feeds Documentation")," as a guide (code examples included)."),(0,a.kt)("li",{parentName:"ol"},"Deploy your contract using an EVM-compatible IDE such as ",(0,a.kt)("a",{parentName:"li",href:"https://remix.ethereum.org/"},"Remix"),".")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"For ",(0,a.kt)("strong",{parentName:"p"},"mainnet")," chains, please wait several hours after filling out our ",(0,a.kt)("a",{parentName:"p",href:"https://linkwellnodes.io/Getting-Started.html"},"Getting Started")," form to receive our mainnet contract info and custom job ID. Please also ensure that your consumer contract is properly funded with enough LINK tokens to make the request.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Execute your request"),":"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"From your IDE (ie, Remix) trigger your contract's ",(0,a.kt)("inlineCode",{parentName:"li"},"request()")," function (also called the ",(0,a.kt)("inlineCode",{parentName:"li"},"transferAndCall()")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"_sendOperatorRequest()")," function)."),(0,a.kt)("li",{parentName:"ol"},"Once triggered, your contract will emit an ",(0,a.kt)("inlineCode",{parentName:"li"},"OracleRequest")," event, which will get picked up by one of our off-chain oracle nodes. On ",(0,a.kt)("strong",{parentName:"li"},"mainnets"),", the appropriate amount of LINK token will simultaneously be sent to the oracle contract as a form of payment."),(0,a.kt)("li",{parentName:"ol"},"After detecting the ",(0,a.kt)("inlineCode",{parentName:"li"},"OracleRequest")," event, one of our oracle nodes will use the emitted data to perform the designated job. This typically involves an HTTP request to an API endpoint for data retrieval."),(0,a.kt)("li",{parentName:"ol"},"Once the data has been retrieved, parsed, and converted into a blockchain compatible format, our oracle node executes a blockchain transaction against the oracle contract, which in turn writes the data back to your consumer contract via its ",(0,a.kt)("inlineCode",{parentName:"li"},"fulfill()")," function.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Retrieve your result"),":"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"As soon as the ",(0,a.kt)("inlineCode",{parentName:"li"},"fulfill()")," function is called within your consumer contract, a ",(0,a.kt)("inlineCode",{parentName:"li"},"RequestFulfilled")," event will be emitted. If desired, you can monitor for this event using an RPC connection and Web3 library (ie, web3.js), in order to trigger a response within your Web3 application."),(0,a.kt)("li",{parentName:"ol"},"Your data should now be available within your consumer contract for consumption by your Web3 application!")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"The end-to-end workflow from triggering your ",(0,a.kt)("inlineCode",{parentName:"p"},"request()")," function to receiving your oracle response within the ",(0,a.kt)("inlineCode",{parentName:"p"},"fulfill()")," function should take ",(0,a.kt)("strong",{parentName:"p"},"~3-5")," blocks. This typically occurs in less than a minute of waiting time, but depends highly on your chosen network's block time and congestion, as well as your chosen oracle team's security configuration."),(0,a.kt)("br",null),"At LinkWell Nodes, we are able to offer a faster oracle response time (2 blocks minimum) on mainnets for a small increase in fee. Please reach out to us via our ",(0,a.kt)("a",{href:"https://linkwellnodes.io/Getting-Started.html",target:"_blank"},"Getting Started")," form, and include the specific details of your requirements."),(0,a.kt)("h2",{id:"need-more-help"},"Need more help?"),(0,a.kt)("p",null,"Join our ",(0,a.kt)("a",{parentName:"p",href:"https://discord.com/invite/Xs6SjqVPUA"},"Discord")," server for immediate assistance!"))}h.isMDXComponent=!0},7781:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/chainlink-blue-header_1400x802-29ddbb93a726d08d5fedc4b568719d9d.webp"}}]);