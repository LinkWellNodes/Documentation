"use strict";(self.webpackChunklinkwell_nodes_documentation=self.webpackChunklinkwell_nodes_documentation||[]).push([[4221],{9823:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"knowledgebase/faq/Chainlink-Operators","title":"Chainlink Oracle (Node) Operator FAQ","description":"A list of frequently-asked questions by Chainlink node (oracle) operators.","source":"@site/docs/knowledgebase/faq/Chainlink-Operators.md","sourceDirName":"knowledgebase/faq","slug":"/knowledgebase/faq/Chainlink-Operators","permalink":"/knowledgebase/faq/Chainlink-Operators","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"description":"A list of frequently-asked questions by Chainlink node (oracle) operators."}}');var r=i(4848),t=i(8453),a=i(1096);const s={description:"A list of frequently-asked questions by Chainlink node (oracle) operators."},l="Chainlink Oracle (Node) Operator FAQ",c={},d=[{value:"General Topics",id:"general-topics",level:2},{value:"Where can I find a Chainlink oracle?",id:"where-can-i-find-a-chainlink-oracle",level:3},{value:"Looking for a Chainlink oracle, oracle address, or job id?",id:"looking-for-a-chainlink-oracle-oracle-address-or-job-id",level:3},{value:"Can anyone run a Chainlink node?",id:"can-anyone-run-a-chainlink-node",level:3},{value:"Should I run my own Chainlink node?",id:"should-i-run-my-own-chainlink-node",level:3},{value:"Is a Chainlink oracle the same thing as a Chainlink node?",id:"is-a-chainlink-oracle-the-same-thing-as-a-chainlink-node",level:3},{value:"Official Node Operators",id:"official-node-operators",level:2},{value:"What is the difference between an Official node operator and a Community node operator?",id:"what-is-the-difference-between-an-official-node-operator-and-a-community-node-operator",level:3},{value:"Where can I find more information about becoming an official Chainlink node operator?",id:"where-can-i-find-more-information-about-becoming-an-official-chainlink-node-operator",level:3},{value:"Which Chainlink features are restricted to official Chainlink node operators?",id:"which-chainlink-features-are-restricted-to-official-chainlink-node-operators",level:3},{value:"What chains does Chainlink support?",id:"what-chains-does-chainlink-support",level:3},{value:"Can anyone start up an OCR (Off-Chain-Reporting) network?",id:"can-anyone-start-up-an-ocr-off-chain-reporting-network",level:3},{value:"How does Functions affect community node operators?",id:"how-does-functions-affect-community-node-operators",level:3},{value:"Profitability",id:"profitability",level:2},{value:"Is running a Chainlink node profitable?",id:"is-running-a-chainlink-node-profitable",level:3},{value:"How much does it cost to run a Chainlink node?",id:"how-much-does-it-cost-to-run-a-chainlink-node",level:3},{value:"Installation and Setup",id:"installation-and-setup",level:2},{value:"What are the system requirements for running a Chainlink node?",id:"what-are-the-system-requirements-for-running-a-chainlink-node",level:3},{value:"Do I need LINK to run a Chainlink node?",id:"do-i-need-link-to-run-a-chainlink-node",level:3},{value:"What is the best way to deploy a Chainlink node?",id:"what-is-the-best-way-to-deploy-a-chainlink-node",level:3},{value:"Can I run a Chainlink node on Windows?",id:"can-i-run-a-chainlink-node-on-windows",level:3},{value:"How do I configure my operator/oracle contract?",id:"how-do-i-configure-my-operatororacle-contract",level:3},{value:"How do I deploy multiple external adapters?",id:"how-do-i-deploy-multiple-external-adapters",level:3},{value:"How do I run a Webhook job?",id:"how-do-i-run-a-webhook-job",level:3},{value:"Do I need to deploy my own blockchain full nodes in order to run a Chainlink node?",id:"do-i-need-to-deploy-my-own-blockchain-full-nodes-in-order-to-run-a-chainlink-node",level:3},{value:"Can I deploy multiple chains on one Chainlink node?",id:"can-i-deploy-multiple-chains-on-one-chainlink-node",level:3},{value:"Maintenance",id:"maintenance",level:2},{value:"What kind of maintenance does a Chainlink node require?",id:"what-kind-of-maintenance-does-a-chainlink-node-require",level:3},{value:"How do I transfer funds out of a Chainlink node?",id:"how-do-i-transfer-funds-out-of-a-chainlink-node",level:3},{value:"What is the best way to monitor my Chainlink node?",id:"what-is-the-best-way-to-monitor-my-chainlink-node",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"I can&#39;t access the Chainlink node GUI",id:"i-cant-access-the-chainlink-node-gui",level:3},{value:"My job is stuck at the final &#39;submit_tx&#39; task",id:"my-job-is-stuck-at-the-final-submit_tx-task",level:3},{value:"Why is my oracle transaction failing due to an &#39;out of gas&#39; error?",id:"why-is-my-oracle-transaction-failing-due-to-an-out-of-gas-error",level:3},{value:"I&#39;m trying to run the latest Chainlink 2.0.0 version in the new TOML format, but I keep getting error warnings on the TOML config and secrets files. How do I resolve this?",id:"im-trying-to-run-the-latest-chainlink-200-version-in-the-new-toml-format-but-i-keep-getting-error-warnings-on-the-toml-config-and-secrets-files-how-do-i-resolve-this",level:3},{value:"I&#39;m receiving a keystore authentication error while starting my node",id:"im-receiving-a-keystore-authentication-error-while-starting-my-node",level:3},{value:"I&#39;m having file permission issues while starting my node",id:"im-having-file-permission-issues-while-starting-my-node",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"chainlink-oracle-node-operator-faq",children:"Chainlink Oracle (Node) Operator FAQ"})}),"\n",(0,r.jsxs)(n.p,{children:["The target audience for this FAQ is ",(0,r.jsx)(n.strong,{children:"Chainlink oracle operators"})," (also known as ",(0,r.jsx)(n.strong,{children:"node operators"}),"). In other words, those running their own Chainlink nodes."]}),"\n",(0,r.jsxs)(n.p,{children:["The following is a list of frequently-asked questions and answers collected from our experience supporting the ",(0,r.jsx)(n.code,{children:"#nodes"}),", ",(0,r.jsx)(n.code,{children:"#operator-requests"}),", and ",(0,r.jsx)(n.code,{children:"#external-adapters"})," channels within the ",(0,r.jsx)(n.a,{href:"https://discord.com/invite/chainlink",children:"Chainlink Official Discord server"}),"."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"On this page"}),":"]}),"\n",(0,r.jsx)(a.A,{toc:d.filter((e=>e.level>=2)),minHeadingLevel:1,maxHeadingLevel:4}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"general-topics",children:"General Topics"}),"\n",(0,r.jsx)(n.h3,{id:"where-can-i-find-a-chainlink-oracle",children:"Where can I find a Chainlink oracle?"}),"\n",(0,r.jsxs)(n.p,{children:["While ",(0,r.jsx)(n.strong,{children:"market.link"})," was previously the go-to directory for public Chainlink oracle and job listings, this website has since been deprecated, and will soon be migrated to Dune Analytics. In the meantime, we aren't currently aware of any centralized directory for Chainlink oracles."]}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsx)(n.h3,{id:"looking-for-a-chainlink-oracle-oracle-address-or-job-id",children:"Looking for a Chainlink oracle, oracle address, or job id?"}),(0,r.jsxs)(n.p,{children:["View our ",(0,r.jsx)(n.a,{href:"/services/direct-request-jobs/Jobs-and-Pricing",children:"Chainlink data feeds documentation"}),", which has everything you need to get started requesting data from our reliable, distributed oracle infrastructure."]})]}),"\n",(0,r.jsx)(n.p,{children:"There are many other Chainlink node operators who choose to host their own websites listing their Chainlink service offerings. To find them, a decent approach might be to perform a Google search for 'Chainlink node operator' to see what job offerings they may have!"}),"\n",(0,r.jsx)(n.h3,{id:"can-anyone-run-a-chainlink-node",children:"Can anyone run a Chainlink node?"}),"\n",(0,r.jsx)(n.p,{children:"Anyone can run a Chainlink oracle node, as the code is open-source and easily deployable on almost any infrastructure."}),"\n",(0,r.jsxs)(n.p,{children:["If you are looking to make money running a Chainlink node, we recommend reading our ",(0,r.jsx)(n.a,{href:"#is-running-a-chainlink-node-profitable",children:"write-up"})," on this topic."]}),"\n",(0,r.jsxs)(n.p,{children:["If you are new to Chainlink, we suggest learning about the Chainlink ecosystem (",(0,r.jsx)(n.a,{href:"https://blog.chain.link/what-is-chainlink/",children:"What is Chainlink?"}),"), as well as practicing various methods for deploying Chainlink infrastructure (",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/v1/running-a-chainlink-node",children:"Running a Chainlink Node"}),")."]}),"\n",(0,r.jsx)(n.h3,{id:"should-i-run-my-own-chainlink-node",children:"Should I run my own Chainlink node?"}),"\n",(0,r.jsx)(n.p,{children:"The answer depends on your specific use case:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"If you require testnet data"}),": Generally YES, it could be advisable to run your own Chainlink node - especially if you're interested in learning the ropes from a node operator's perspective, and ",(0,r.jsx)(n.a,{href:"/knowledgebase/faq/Chainlink-Users#should-i-use-chainlink-functions",children:"Chainlink Functions"})," won't suit your requirements. On testnets, the stakes are low, and you can easily take advantage of trial-and-error without fear of monetary loss. That being said, there are many existing Chainlink node operators who already run jobs on a multitude of testnets, all which you can use for free (ie, without having to spin up your own node infrastructure). The ",(0,r.jsx)(n.code,{children:"#operator-requests"})," channel of the ",(0,r.jsx)(n.a,{href:"https://discord.com/invite/chainlink",children:"Chainlink Official Discord server"})," is the best way to get matched up with one of these node operators. Typically, you'll have a response within the hour."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"If you require mainnet data"}),": Generally NO, mainnet data consumers should not be running their own Chainlink node - not only from a decentralization standpoint (controlling all parts of the data pipeline is typically frowned upon in the trustless Web3 space), but from a cost perspective as well. See ",(0,r.jsx)(n.a,{href:"#how-much-does-it-cost-to-run-a-chainlink-node",children:"here"})," for information related to the costs of running a reliable mainnet Chainlink node infrastructure."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"If you want to make money running a Chainlink node"}),": Please see our write-up on this topic ",(0,r.jsx)(n.a,{href:"#is-running-a-chainlink-node-profitable",children:"here"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"is-a-chainlink-oracle-the-same-thing-as-a-chainlink-node",children:"Is a Chainlink oracle the same thing as a Chainlink node?"}),"\n",(0,r.jsx)(n.p,{children:"Yes! For the most part 'Chainlink node' and 'Chainlink oracle' can be used interchangeably."}),"\n",(0,r.jsx)(n.p,{children:"More specifically however, a 'node' is the piece of software upon which a Chainlink oracle business runs, whereas an 'oracle' refers more to the overall service and functionality that a node (or set of nodes) - along with its resulting smart contracts and team - delivers to the end-user."}),"\n",(0,r.jsx)(n.h2,{id:"official-node-operators",children:"Official Node Operators"}),"\n",(0,r.jsx)(n.h3,{id:"what-is-the-difference-between-an-official-node-operator-and-a-community-node-operator",children:"What is the difference between an Official node operator and a Community node operator?"}),"\n",(0,r.jsxs)(n.p,{children:["While anyone can run a Chainlink oracle (node), only select node operators are designated by Chainlink as 'official' node operators, and have the ability to support certain ",(0,r.jsx)(n.a,{href:"#which-chainlink-features-are-restricted-to-official-chainlink-node-operators",children:"features"})," supported by the Chainlink ecosystem. Official node operators are typically vetted by Chainlink, and contribute to one or more of Chainlink's official ",(0,r.jsx)(n.a,{href:"https://data.chain.link/",children:"data feeds"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"All other (non-official) Chainlink oracle are designated as 'community' node operators."}),"\n",(0,r.jsx)(n.h3,{id:"where-can-i-find-more-information-about-becoming-an-official-chainlink-node-operator",children:"Where can I find more information about becoming an official Chainlink node operator?"}),"\n",(0,r.jsx)(n.p,{children:"At this time, there isn't any public Chainlink documentation on the process of becoming an official node operator."}),"\n",(0,r.jsx)(n.p,{children:"However, in the past, Chainlink has hosted various 'Oracle Olympics', whereby typically one winner may be selected to become an official node operator. That being said, there isn't currently any estimate on when (or whether) the next Oracle Olympics will occur."}),"\n",(0,r.jsx)(n.h3,{id:"which-chainlink-features-are-restricted-to-official-chainlink-node-operators",children:"Which Chainlink features are restricted to official Chainlink node operators?"}),"\n",(0,r.jsx)(n.p,{children:"Several of Chainlink's more recent features are restricted to official node operators only. Community node operators may still leverage other job types such as Direct Request or Flux Monitor in order to serve any client requests."}),"\n",(0,r.jsx)(n.p,{children:"For information about which features community node operators can support, please reference the below table:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Community Node Operators"}),(0,r.jsx)(n.th,{children:"Official Node Operators"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"/blog/Chainlink-Direct-Requests-Guide",children:"Direct Requests"})}),(0,r.jsx)(n.td,{children:"X"}),(0,r.jsx)(n.td,{children:"X"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/oracle-jobs/all-jobs#flux-monitor-jobs",children:"Flux Monitor"})}),(0,r.jsx)(n.td,{children:"X"}),(0,r.jsx)(n.td,{children:"X"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://docs.chain.link/architecture-overview/off-chain-reporting",children:"Off-Chain Reporting (OCR)"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"X"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://docs.chain.link/vrf",children:"Verifiable Random Function (VRF)"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"X"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-functions",children:"Functions"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"X"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://docs.chain.link/data-streams",children:"Data Streams"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"X"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://chain.link/automation",children:"Automation (formerly 'Keepers')"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"X"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["In addition, community node operators cannot contribute to the following ",(0,r.jsx)(n.strong,{children:"official Chainlink data feeds"}),", although they can still choose to source such data and serve it to their clients:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Official Data Feed"}),(0,r.jsx)(n.th,{children:"Community Node Operators"}),(0,r.jsx)(n.th,{children:"Official Node Operators"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://data.chain.link",children:"Price Feeds"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"X"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://docs.chain.link/data-feeds/proof-of-reserve",children:"Proof of Reserve"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"X"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://docs.chain.link/data-feeds/nft-floor-price",children:"NFT Floor Feeds"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"X"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://docs.chain.link/data-feeds/rates-feeds",children:"Rate and Volatility Feeds"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"X"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://docs.chain.link/data-feeds/l2-sequencer-feeds",children:"L2 Sequencer Uptime Feeds"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"X"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"what-chains-does-chainlink-support",children:"What chains does Chainlink support?"}),"\n",(0,r.jsxs)(n.p,{children:["The list of chains supported by Chainlink can be viewed in the Chainlink documentation ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/resources/link-token-contracts",children:"here"}),". Please note that this list is subject to change as Chainlink adds or removes support for a given chain."]}),"\n",(0,r.jsx)(n.h3,{id:"can-anyone-start-up-an-ocr-off-chain-reporting-network",children:"Can anyone start up an OCR (Off-Chain-Reporting) network?"}),"\n",(0,r.jsx)(n.p,{children:"The Off-Chain Reporting feature is currently unavailable to community node operators. There is currently no plan for releasing the OCR contracts to the general public."}),"\n",(0,r.jsx)(n.p,{children:"For the time being, community node operators can choose to provide their data via Flux Monitor or Direct Request jobs."}),"\n",(0,r.jsx)(n.h3,{id:"how-does-functions-affect-community-node-operators",children:"How does Functions affect community node operators?"}),"\n",(0,r.jsxs)(n.p,{children:["Functions may eventually disrupt the ",(0,r.jsx)(n.a,{href:"/blog/Chainlink-Direct-Requests-Guide",children:"Direct Request model"})," that devs use to get data from community node operators, as the functionality that Functions provides is superior in many ways. However, at this time Functions are only available on a small ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-functions/supported-networks",children:"subnet of networks"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Learn more about the benefits and limitations of Chainlink Functions ",(0,r.jsx)(n.a,{href:"/knowledgebase/faq/Chainlink-Users#should-i-use-chainlink-functions",children:"here"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"profitability",children:"Profitability"}),"\n",(0,r.jsx)(n.h3,{id:"is-running-a-chainlink-node-profitable",children:"Is running a Chainlink node profitable?"}),"\n",(0,r.jsx)(n.p,{children:"In order to earn LINK for serving data, you'll need to seek out customer(s) who are willing to pay for your services. In this way, running a Chainlink node is similar to running a traditional business, and requires a high level of marketing, promotion, and lead generation efforts. This differs markedly from other blockchain node infrastructure - such as an Ethereum validator node - where you can earn passive income without any business development initiatives."}),"\n",(0,r.jsxs)(n.p,{children:["You'll also need to factor in the costs of running a reliable mainnet infrastructure, which you can ",(0,r.jsx)(n.a,{href:"#how-much-does-it-cost-to-run-a-chainlink-node",children:"learn more about here"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Once you've mastered the core elements of running a reliable Chainlink node infrastructure (ie, automation, high-availability, disaster recovery, security, monitoring, etc.), typically the next step would be to become active in the Chainlink community. By helping others, participating in Chainlink events, and in general giving back to the community, you'll increase your reputation within the Chainlink ecosystem."}),"\n",(0,r.jsx)(n.h3,{id:"how-much-does-it-cost-to-run-a-chainlink-node",children:"How much does it cost to run a Chainlink node?"}),"\n",(0,r.jsxs)(n.p,{children:["The infrastructure costs required to run a secure, reliable, mainnet Chainlink infrastructure can be daunting to many - and will typically be on the order of ",(0,r.jsx)(n.strong,{children:"$1,500 USD / month"})," per mainnet chain (or even more, in the case of a professional oracle services team with a rigorous ",(0,r.jsx)("a",{href:"/services/direct-request-jobs/Service-Level-Agreement",children:"SLA"}),")."]}),"\n",(0,r.jsx)(n.p,{children:"The expenses paid by a Chainlink node operator typically include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Infrastructure costs"}),": a typical mainnet Chainlink infrastructure includes triple-redundant Chainlink nodes, redundant blockchain full nodes, database read/write replicas, external adapters, multiple backups of all data, automatic disaster recovery mechanisms, and a reliable monitoring and alerting system."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Blockchain transaction costs"}),": for every client request for data, node operators need to pay related gas to write the response on-chain. Gas costs vary significantly by chain, network congestion, and response size, and may range from anywhere between a few cents per transaction, to tens of hundreds of USD per transaction (rare)."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Data subscription costs"}),": node operators often need to pay subscription fees to premium data feeds requested by their clients, which can be significant."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"In order to recoup these costs, node operators need to leverage economies of scale - meaning that each infrastructure will need to serve multiple customers in order to break even."}),"\n",(0,r.jsx)(n.p,{children:"In this way, as public node operators, LinkWell Nodes can afford to provide a more reliable oracle data infrastructure than any lone node operator can afford to maintain - resulting in a win-win for everyone!"}),"\n",(0,r.jsx)(n.h2,{id:"installation-and-setup",children:"Installation and Setup"}),"\n",(0,r.jsx)(n.h3,{id:"what-are-the-system-requirements-for-running-a-chainlink-node",children:"What are the system requirements for running a Chainlink node?"}),"\n",(0,r.jsxs)(n.p,{children:["Chainlink provides official documentation on the hardware / software requirements of running a Chainlink node ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/resources/requirements",children:"here"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"do-i-need-link-to-run-a-chainlink-node",children:"Do I need LINK to run a Chainlink node?"}),"\n",(0,r.jsx)(n.p,{children:"There is currently no minimum LINK requirement to run a node. You must, however, have the corresponding gas token for your target chain (ie, ETH), in order to fulfill job requests."}),"\n",(0,r.jsx)(n.h3,{id:"what-is-the-best-way-to-deploy-a-chainlink-node",children:"What is the best way to deploy a Chainlink node?"}),"\n",(0,r.jsxs)(n.p,{children:["While you can technically ",(0,r.jsx)(n.a,{href:"https://github.com/smartcontractkit/chainlink",children:"build a Chainlink node from source"}),", the best practice is to deploy Chainlink nodes on a Unix-based OS using Docker (see ",(0,r.jsx)(n.a,{href:"https://hub.docker.com/r/smartcontract/chainlink/tags",children:"Chainlink Docker Image"}),"), and running it as a non-root user. There are many options available for hosting your deployment, such as various cloud services (AWS, GCP, Azure, etc.), or your at-home machine (not recommended for mainnets). The software and hardware requirements for running a Chainlink node can be found ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/resources/requirements",children:"here"}),". You may also choose to use certain deployment technologies (Terraform, AWS CloudFormation, Ansible, etc.) to automate your deployment."]}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/resources/best-security-practices#infrastructure-as-code-iac",children:"this page"})," for a few publicly-available IAC (Infrastructure as Code) deployment options. Chainlink also provides ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/resources/best-practices-aws",children:"AWS QuickStart"})," templates for deploying a basic Chainlink infrastructure via AWS CloudFormation."]}),"\n",(0,r.jsx)(n.h3,{id:"can-i-run-a-chainlink-node-on-windows",children:"Can I run a Chainlink node on Windows?"}),"\n",(0,r.jsx)(n.p,{children:"If you must use Windows, Chainlink Labs strongly recommends using WSL (Windows Subsystem for Linux) for your deployment. That being said, we have seen many teams struggle through the various stages of deployment using WSL, and would recommend deploying your Chainlink infrastructure via a native Linux machine. This is especially true for production environments."}),"\n",(0,r.jsx)(n.h3,{id:"how-do-i-configure-my-operatororacle-contract",children:"How do I configure my operator/oracle contract?"}),"\n",(0,r.jsx)(n.p,{children:"Once you have your Chainlink node up and running, the next step is to deploy your corresponding oracle / operator contract."}),"\n",(0,r.jsxs)(n.p,{children:["Please see ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/v1/fulfilling-requests",children:"this guide"})," for a tutorial on how to accomplish this."]}),"\n",(0,r.jsx)(n.h3,{id:"how-do-i-deploy-multiple-external-adapters",children:"How do I deploy multiple external adapters?"}),"\n",(0,r.jsx)(n.p,{children:"The process for deploying an external adapter is identical to deploying any other servlet; external adapters are just simple HTTP servers."}),"\n",(0,r.jsx)(n.p,{children:"If you wish to deploy multiple adapters (servlets), there are many ways to do this - for a quick solution (ie, testnets or private use), you might consider batching the related build / launch commands for each adapter into a single shell script that runs on a single machine. For a more Production-grade deployment, you might consider using a well-known build / cluster orchestration tool - such as Kubernetes - to manage a fleet of instances, all of which might run your adapters / servlets behind a load balancer."}),"\n",(0,r.jsx)(n.h3,{id:"how-do-i-run-a-webhook-job",children:"How do I run a Webhook job?"}),"\n",(0,r.jsxs)(n.p,{children:["If you are receiving the error '",(0,r.jsx)(n.code,{children:"manual job runs only supported in dev mode - export CL_DEV=true to use"}),"' or similar, you may be trying to access a feature that is currently unsupported in Chainlink production builds past 2.x.x."]}),"\n",(0,r.jsxs)(n.p,{children:["As of Chainlink client version 2.x.x, the ",(0,r.jsx)(n.code,{children:"CHAINLINK_DEV"}),", ",(0,r.jsx)(n.code,{children:"FEATURE_EXTERNAL_INITIATORS"}),", and ",(0,r.jsx)(n.code,{children:"FEATURE_WEBHOOK_V2"})," config flags have been deprecated, and Chainlink has migrated to the ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/v1/node-config",children:"TOML-based configuration format"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["In order to access the features enabled by these flags (ie, running Webhook jobs manually via the Chainlink GUI interface), we'd recommend deploying the older ",(0,r.jsx)(n.a,{href:"https://github.com/smartcontractkit/chainlink/releases/tag/v1.4.1",children:"v1.4.1 Chainlink client"}),". Alternatively, you may try building a development version of the more recent Chainlink code from scratch, which allows you to set various ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/v1/node-config#insecure",children:"insecure flags"})," within the Chainlink TOML config."]}),"\n",(0,r.jsx)(n.h3,{id:"do-i-need-to-deploy-my-own-blockchain-full-nodes-in-order-to-run-a-chainlink-node",children:"Do I need to deploy my own blockchain full nodes in order to run a Chainlink node?"}),"\n",(0,r.jsx)(n.p,{children:"While there is no technical requirement to connect your Chainlink node(s) to your own blockchain full nodes, this approach is strongly recommended for mainnet environments, in order to maximize the availability, reliability, and security of your blockchain data feed."}),"\n",(0,r.jsx)(n.p,{children:"That being said, many node operators have chosen to use an open-source reverse proxy in front of their blockchain full node stack, in order to route blockchain traffic to a 3rd-party endpoint (such as Infura, QuickNodes, or Alchemy) in the event of a deployment failure."}),"\n",(0,r.jsx)(n.h3,{id:"can-i-deploy-multiple-chains-on-one-chainlink-node",children:"Can I deploy multiple chains on one Chainlink node?"}),"\n",(0,r.jsx)(n.p,{children:"The multi-chain feature is currently in beta, and as such we don't recommended using it at this time."}),"\n",(0,r.jsx)(n.h2,{id:"maintenance",children:"Maintenance"}),"\n",(0,r.jsx)(n.h3,{id:"what-kind-of-maintenance-does-a-chainlink-node-require",children:"What kind of maintenance does a Chainlink node require?"}),"\n",(0,r.jsx)(n.p,{children:"From time to time, Chainlink Labs will release a new version of Chainlink, and you may be required to upgrade your node. As such, it's recommended to have a well-rehearsed no-downtime playbook in place for upgrading your Chainlink node runtimes."}),"\n",(0,r.jsx)(n.p,{children:"In addition, you'll need to ensure your Chainlink node's wallet address is always sufficiently funded with the respective chain's native gas token (ie, ETH) so that it may continue to fulfill requests on-chain."}),"\n",(0,r.jsx)(n.h3,{id:"how-do-i-transfer-funds-out-of-a-chainlink-node",children:"How do I transfer funds out of a Chainlink node?"}),"\n",(0,r.jsx)(n.p,{children:"In order to transfer funds out of your Chainlink node:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Log into your Docker container (assuming you are using Docker): ",(0,r.jsx)(n.code,{children:"docker exec -it <CONTAINER_NAME> /bin/bash"})]}),"\n",(0,r.jsxs)(n.li,{children:["Log into the admin console within the Chainlink CLI: ",(0,r.jsx)(n.code,{children:"chainlink admin login"})]}),"\n",(0,r.jsxs)(n.li,{children:["Create the transaction: ",(0,r.jsx)(n.code,{children:"chainlink txs evm create <AMOUNT_TO_SEND>"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"what-is-the-best-way-to-monitor-my-chainlink-node",children:"What is the best way to monitor my Chainlink node?"}),"\n",(0,r.jsxs)(n.p,{children:["For Chainlink documentation on basic monitoring requirements, please see the section on ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/resources/best-security-practices#active-monitoring",children:"Security and Operation Best Practices"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Selecting your Chainlink monitoring solution is a matter of preference, as there are many available options. A popular free and open source option is the Prometheus, Loki, and Grafana stack. Other options include AWS CloudWatch and/or Splunk Enterprise."}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"i-cant-access-the-chainlink-node-gui",children:"I can't access the Chainlink node GUI"}),"\n",(0,r.jsx)(n.p,{children:"If you can't access the GUI of your Chainlink node:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Ensure your Chainlink node runtime is up and running (",(0,r.jsx)(n.code,{children:"docker inspect <CONTAINER_NAME>"})," if running on Docker. if not, look for a Docker exit code, and search Google for the corresponding meaning)."]}),"\n",(0,r.jsxs)(n.li,{children:["Search for any ERROR- or CRIT-level logs in your Chainlink container via the following command: ",(0,r.jsx)(n.code,{children:"docker logs -f <CONTAINER_NAME>"})," (if running on Docker)"]}),"\n",(0,r.jsx)(n.li,{children:"If hosting your node on AWS, ensure the related security group can accept connections from your IP address on your Chainlink node's corresponding GUI port"}),"\n",(0,r.jsx)(n.li,{children:"If hosting your node on AWS and fronting your Chainlink node with an ALB, ensure that the Chainlink node's security group can accept connections from the ALB on your Chainlink node's corresponding GUI port"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"my-job-is-stuck-at-the-final-submit_tx-task",children:"My job is stuck at the final 'submit_tx' task"}),"\n",(0,r.jsx)(n.p,{children:"Typically, when a Chainlink job is stuck at the final submit task, the issue is that you forgot to fund the Chainlink node address with the gas token for the chain you are running on. Please note that the Chainlink node address is different and separate from the oracle/operator contract that the node interacts with. The Chainlink node address can be found in the Chainlink GUI, or listed on the CLI via Chainlink's command-line interface."}),"\n",(0,r.jsx)(n.p,{children:"As an example, if you are deploying a Chainlink node on Polygon's Amoy testnet, you would need to send the testnet MATIC token to your Chainlink node's wallet address. This is a requirement for completing jobs, as the Chainlink node requires the respective chain's native gas token for submitting response transactions on-chain."}),"\n",(0,r.jsx)(n.h3,{id:"why-is-my-oracle-transaction-failing-due-to-an-out-of-gas-error",children:"Why is my oracle transaction failing due to an 'out of gas' error?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Out of gas"})," exceptions may occur when a Chainlink node exceeds the allowable gas limit while attempting to write the appropriate data response to the consumer contract. There are several ways to mitigate this:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Try reducing the size of the data returned by the Chainlink node. For example, if you are attempting to return a very large JSON string (ie, over 200 chars), consider reducing the size of the JSON string, or only returning a subset of the JSON, using the ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/oracle-jobs/all-tasks#json-parse-task",children:"JSON Parse"})," job task."]}),"\n",(0,r.jsxs)(n.li,{children:["If you have access to the oracle node's configuration settings, try increasing the ",(0,r.jsx)(n.code,{children:"LimitDefault"})," value within ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/v1/node-config#limitdefault",children:"GasEstimator"})," config (this defaults to 500,000 gas, or '",(0,r.jsx)(n.code,{children:"500_000"}),"'). ",(0,r.jsx)(n.strong,{children:"WARNING"}),": increasing your node's gas limit will allow your oracle to spend a large amount of gas per transaction, and is not recommended on mainnet chains!"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"im-trying-to-run-the-latest-chainlink-200-version-in-the-new-toml-format-but-i-keep-getting-error-warnings-on-the-toml-config-and-secrets-files-how-do-i-resolve-this",children:"I'm trying to run the latest Chainlink 2.0.0 version in the new TOML format, but I keep getting error warnings on the TOML config and secrets files. How do I resolve this?"}),"\n",(0,r.jsxs)(n.p,{children:["The new TOML format can admittedly be a bit unforgiving, and needs to be in the exact format shown in the ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/v1/node-config",children:"config file documentation"})," and the ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/v1/secrets-config",children:"secrets file documentation"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Validation errors in the secrets file can often be due to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Having a database password that isn't sufficiently complex"}),": To rule this out, consider adding the following under the [Database] section: ",(0,r.jsx)(n.code,{children:"AllowSimplePasswords = true"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Having a database password that uses reserved special chars"}),": To rule this out, consider using safer special characters such as ",(0,r.jsx)(n.code,{children:"-_*"})," in your database password."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Additionally, Chainlink provides TOML validation commands that you can run in order to help identify issues in your TOML files. Please see below for some sample 'validate' commands."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example 1"}),":"]}),"\n",(0,r.jsx)(n.p,{children:"docker run --platform linux/x86_64/v8 --name chainlink-config-validator -v ~/.chainlink:/chainlink -it --rm smartcontract/chainlink:2.0.0 -config /chainlink/config.toml -secrets /chainlink/secrets.toml node validate"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example 2"}),":"]}),"\n",(0,r.jsx)(n.p,{children:"docker run --platform linux/x86_64/v8 --name chainlink-config-validator -v ~/.chainlink:/chainlink -it --rm smartcontract/chainlink:2.0.0 -config /chainlink/config.toml -secrets /chainlink/secrets.toml secrets validate"}),"\n",(0,r.jsx)(n.h3,{id:"im-receiving-a-keystore-authentication-error-while-starting-my-node",children:"I'm receiving a keystore authentication error while starting my node"}),"\n",(0,r.jsx)(n.p,{children:"When you run your Chainlink node using a password that's different from what the Chainlink database expects, you'll receive the following error:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"error authenticating keystore: unable to decrypt encrypted key ring: could not decrypt key with given password\n"})}),"\n",(0,r.jsx)(n.p,{children:"The most common scenario where this error occurs is while attempting to launch a Chainlink node against an existing Chainlink database which was previously initialized using a different Chainlink password and/or node."}),"\n",(0,r.jsx)(n.p,{children:"To get past this error, you'll need to either:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Enter the correct password (ie, the password used by your original Chainlink node when connecting to your Chainlink database for the first time) into your TOML secrets config file, and restart your Chainlink node:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[Password]\nKeystore = '<MY_PASSWORD_HERE>'\n"})}),"\n",(0,r.jsxs)(n.p,{children:["You may find more information on configuring your TOML secrets config file in the Chainlink documentation ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/v1/secrets-config#keystore",children:"here"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Wipe your database and restart your Chainlink node. You achieve this by either spinning up a fresh database instance, or by issue the following command using PSQL: ",(0,r.jsx)(n.code,{children:"DROP DATABASE <CHAINLINK_DATABASE_NAME;"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"IMPORTANT DISCLAIMER"}),": by clearing your current database, you'll permanently lose access to the Chainlink node wallet (ie, keystore) contained in your current database, along with all associated funds therein. There is no way to recover these funds."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"im-having-file-permission-issues-while-starting-my-node",children:"I'm having file permission issues while starting my node"}),"\n",(0,r.jsx)(n.p,{children:"While starting your Chainlink node, you might receive one or more of the following error messages (or similar):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"failed to read config file: /chainlink/config.toml: open /chainlink/config.toml: no such file or directory\nfailed to read config file: /chainlink/secrets.toml: open /chainlink/secrets.toml: no such file or directory\n"})}),"\n",(0,r.jsx)(n.p,{children:"These types of errors are caused by your Chainlink container having insufficient access to the relevant files on your local filesystem."}),"\n",(0,r.jsx)(n.p,{children:"To ensure proper permissions, please check the following:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Ensure the following line is added to your TOML config file (see official documentation ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/v1/node-config#rootdir",children:"here"}),"):"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"RootDir = '~/.chainlink'\n"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Ensure the correct filesystem permissions (700) are applied to your ",(0,r.jsx)(n.code,{children:"config.toml"})," and ",(0,r.jsx)(n.code,{children:"secrets.toml"})," files, including their parent directory, as prescribed ",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/v1/node-config#rootdir",children:"here"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# <HOST_FILESYSTEM_DIR> should be the directory containing your config.toml and secrets.toml files\nchmod -R 700 <HOST_FILESYSTEM_DIR>\n"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["If running your Chainlink container as a user other than ",(0,r.jsx)(n.code,{children:"root"})," (",(0,r.jsx)(n.a,{href:"https://docs.chain.link/chainlink-nodes/resources/best-practices-aws#do-not-run-as-the-root-user",children:"recommended"}),"), you'll also need to ensure that the ",(0,r.jsx)(n.code,{children:"config.toml"})," and ",(0,r.jsx)(n.code,{children:"secrets.toml"})," files, as well as their parent directory, have the appropriate ownership permissions:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# <USER> should be the user running the Chainlink docker container, <GROUP> should be any group that <USER> belongs to, and <HOST_FILESYSTEM_DIR> should be the directory containing your config.toml and secrets.toml files\nchown -R <USER>:<GROUP> <HOST_FILESYSTEM_DIR>\n"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Ensure that the host directory containing your ",(0,r.jsx)(n.code,{children:"config.toml"})," and ",(0,r.jsx)(n.code,{children:"secrets.toml"})," files is mapped to your Chainlink docker container:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"docker run -d \\\n    --restart unless-stopped \\\n    -p 6688:6688 \\\n    # Pay special attention to the below line. <HOST_FILESYSTEM_DIR> should be the host directory containing your config.toml and secrets.toml files (ie, /home/ec2-user/chainlink-home)\n    -v <HOST_FILESYSTEM_DIR>:~/.chainlink \\\n    smartcontract/chainlink:2.0.0 \\\n    -config ~/.chainlink/config.toml \\\n    -secrets ~/.chainlink/secrets.toml \\\n    node start\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If, after performing all of the above steps, you are still having the same issue, you might try running the above Docker command using ",(0,r.jsx)(n.code,{children:"sudo"})," (",(0,r.jsx)(n.code,{children:"sudo docker run"}),"...), to ascertain whether your issue is permission-related (NOTE that running your container using ",(0,r.jsx)(n.code,{children:"sudo"})," is NOT a recommended approach for production purposes)."]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},1096:(e,n,i)=>{i.d(n,{A:()=>a});i(6540);var o=i(1021);const r={tableOfContentsInline:"tableOfContentsInline_prmo"};var t=i(4848);function a(e){let{toc:n,minHeadingLevel:i,maxHeadingLevel:a}=e;return(0,t.jsx)("div",{className:r.tableOfContentsInline,children:(0,t.jsx)(o.A,{toc:n,minHeadingLevel:i,maxHeadingLevel:a,className:"table-of-contents",linkClassName:null})})}},1021:(e,n,i)=>{i.d(n,{A:()=>m});var o=i(6540),r=i(3115);function t(e){const n=e.map((e=>({...e,parentIndex:-1,children:[]}))),i=Array(7).fill(-1);n.forEach(((e,n)=>{const o=i.slice(2,e.level);e.parentIndex=Math.max(...o),i[e.level]=n}));const o=[];return n.forEach((e=>{const{parentIndex:i,...r}=e;i>=0?n[i].children.push(r):o.push(r)})),o}function a(e){let{toc:n,minHeadingLevel:i,maxHeadingLevel:o}=e;return n.flatMap((e=>{const n=a({toc:e.children,minHeadingLevel:i,maxHeadingLevel:o});return function(e){return e.level>=i&&e.level<=o}(e)?[{...e,children:n}]:n}))}function s(e){const n=e.getBoundingClientRect();return n.top===n.bottom?s(e.parentNode):n}function l(e,n){let{anchorTopOffset:i}=n;const o=e.find((e=>s(e).top>=i));if(o){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(s(o))?o:e[e.indexOf(o)-1]??null}return e[e.length-1]??null}function c(){const e=(0,o.useRef)(0),{navbar:{hideOnScroll:n}}=(0,r.p)();return(0,o.useEffect)((()=>{e.current=n?0:document.querySelector(".navbar").clientHeight}),[n]),e}function d(e){const n=(0,o.useRef)(void 0),i=c();(0,o.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:o,linkActiveClassName:r,minHeadingLevel:t,maxHeadingLevel:a}=e;function s(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(o),s=function(e){let{minHeadingLevel:n,maxHeadingLevel:i}=e;const o=[];for(let r=n;r<=i;r+=1)o.push(`h${r}.anchor`);return Array.from(document.querySelectorAll(o.join()))}({minHeadingLevel:t,maxHeadingLevel:a}),c=l(s,{anchorTopOffset:i.current}),d=e.find((e=>c&&c.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,i){i?(n.current&&n.current!==e&&n.current.classList.remove(r),e.classList.add(r),n.current=e):e.classList.remove(r)}(e,e===d)}))}return document.addEventListener("scroll",s),document.addEventListener("resize",s),s(),()=>{document.removeEventListener("scroll",s),document.removeEventListener("resize",s)}}),[e,i])}var h=i(6289),u=i(4848);function f(e){let{toc:n,className:i,linkClassName:o,isChild:r}=e;return n.length?(0,u.jsx)("ul",{className:r?void 0:i,children:n.map((e=>(0,u.jsxs)("li",{children:[(0,u.jsx)(h.A,{to:`#${e.id}`,className:o??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,u.jsx)(f,{isChild:!0,toc:e.children,className:i,linkClassName:o})]},e.id)))}):null}const p=o.memo(f);function m(e){let{toc:n,className:i="table-of-contents table-of-contents__left-border",linkClassName:s="table-of-contents__link",linkActiveClassName:l,minHeadingLevel:c,maxHeadingLevel:h,...f}=e;const m=(0,r.p)(),k=c??m.tableOfContents.minHeadingLevel,y=h??m.tableOfContents.maxHeadingLevel,g=function(e){let{toc:n,minHeadingLevel:i,maxHeadingLevel:r}=e;return(0,o.useMemo)((()=>a({toc:t(n),minHeadingLevel:i,maxHeadingLevel:r})),[n,i,r])}({toc:n,minHeadingLevel:k,maxHeadingLevel:y});return d((0,o.useMemo)((()=>{if(s&&l)return{linkClassName:s,linkActiveClassName:l,minHeadingLevel:k,maxHeadingLevel:y}}),[s,l,k,y])),(0,u.jsx)(p,{toc:g,className:i,linkClassName:s,...f})}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>s});var o=i(6540);const r={},t=o.createContext(r);function a(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);